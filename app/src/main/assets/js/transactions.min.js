transactions=function(){this.availableIncome,this.transactions=getObj("transactions"),this.types=new Array("expenses","income","savings"),this.percents=new Object,this.percents.available,this.percents.expenses,this.percents.savings,this.totals=new Object,this.totals.expenses=0,this.totals.income=0,this.totals.savings=0,transactions.prototype.calcPercents=function(){this.availableIncome<=0&&this.totals.expenses>0?this.percents.expenses=100:(this.percents.expenses=100*(this.totals.expenses/this.totals.income),this.percents.savings=100*(this.totals.savings/this.totals.income),this.percents.available=100-(this.percents.expenses+this.percents.savings))},transactions.prototype.calcTotals=function(){this.fetchTypes();for(var t=0,e=0,n=this.types[t];t<this.types.length;t++,e=0,n=this.types[t]){for(var s=0,i=this[n][s];s<this[n].length;s++,i=this[n][s])"true"===i.tax&&(i.amountAnnual=i.amountAnnual+i.amountAnnual*settings.taxAmount),e+=i.amountAnnual/settings.budgetingFreq.value;this.totals[n]=e}this.availableIncome=this.totals.income-this.totals.expenses-this.totals.savings},transactions.prototype.fetchTypes=function(){this.transactions||(this.transactions=getObj("transactions"));for(var t=0,e=this.types[t];t<this.types.length;t++,e=this.types[t])if(this[e]=new Array,this.transactions)for(var n=0,s=this.transactions[n];n<this.transactions.length;n++,s=this.transactions[n])s.type===e&&this[e].push(s)}};